<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Page Layout</title>
  <link rel="stylesheet" href="../astess/styl.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
      body {
          font-family: 'Roboto', sans-serif;
      }
  </style>
</head>

<body class="bg-gray-100 p-4">
    


    <div class="container">

        
        <div id="playerList" class="grid grid-cols-4 gap-2 mb-4">
          
            <div class="player-card text-white rounded-lg p-1 h-20" draggable="true" data-player="CRISTIANO RONALDO" style="background-image: url(../photos/images-removebg-preview.png); background-size: cover;">
                <div class="flex justify-between px-1 items-center h-5">
                    <div class="text-center">
                        <p class="text-[6px] font-bold">90</p>
                        <p class="text-[6px] font-semibold">ST</p>
                    </div>
                    <img src="https://placehold.co/20x20?text=PT" alt="Portugal Flag" class="w-3 h-3 rounded-full">
                </div>
                <div class="flex justify-center">
                    <img src="https://cdn.sofifa.net/players/020/801/25_120.png" alt="CRISTIANO RONALDO" class="rounded-full w-6 h-6 border border-gray-200">
                </div>
                <div class="text-center pt-1">
                    <h1 class="text-[6px] font-semibold">CRISTIANO RONALDO</h1>
                </div>
            </div>
    
            <div class="player-card text-white  rounded-lg p-1" draggable="true" data-player="LIONEL MESSI">
                <div class="flex justify-between px-1 items-center">
                    <div class="text-center">
                        <p class="text-[6px] font-bold">91</p>
                        <p class="text-[6px] font-semibold">RW</p>
                    </div>
                    <img src="https://placehold.co/20x20?text=AR" alt="Argentina Flag" class="w-3 h-3 rounded-full">
                </div>
                <div class="flex justify-center">
                    <img src="https://cdn.sofifa.net/players/210/422/25_120.png" alt="LIONEL MESSI" class="rounded-full w-6 h-6 border border-gray-200">
                </div>
                <div class="text-center pt-1">
                    <h1 class="text-[6px] font-semibold">LIONEL MESSI</h1>
                </div>
            </div>
        </div>
        <script>


        document.addEventListener("DOMContentLoaded", () => {
            const container = document.getElementById("cardContainer");
            const terrainSlots = document.querySelectorAll(".terrain-slot");
        
            // Fetch data from JSON file
            fetch("players.json")
                .then((response) => response.json())
                .then((players) => {
                    // Render player cards
                    players.forEach((player) => {
                        const card = `
                            <div class="player-card text-white rounded-lg p-4 shadow-lg" draggable="true" data-player="${player.name}">
                                <div class="flex justify-between items-center">
                                    <div class="text-center">
                                        <p class="text-xs font-bold">${player.rating}</p>
                                        <p class="text-xs font-semibold">${player.position}</p>
                                    </div>
                                    <img src="${player.countryImg}" alt="Flag of ${player.name}'s country" class="w-8 h-8 rounded-full border-2 border-white" />
                                </div>
                                <div class="flex justify-center mt-2">
                                    <img src="${player.playerImg}" alt="Image of ${player.name}" class="rounded-full w-16 h-16 border-2 border-gray-300" />
                                </div>
                                <div class="text-center text-sm pt-2 font-bold">
                                    <h1>${player.name}</h1>
                                </div>
                                <div class="flex flex-wrap justify-center mt-2">
                                    ${Object.entries(player.stats)
                                        .map(
                                            ([key, value]) => `
                                            <div class="w-1/3 text-center">
                                                <p class="text-xs font-semibold">${value}</p>
                                                <p class="text-xs text-gray-300">${key}</p>
                                            </div>`
                                        )
                                        .join("")}
                                </div>
                            </div>
                        `;
                        container.innerHTML += card;
                    });
        
                    // Make cards draggable
                    enableDragAndDrop();
                })
                .catch((error) => console.error("Error loading players:", error));
        
            // Enable drag and drop functionality
            function enableDragAndDrop() {
                const playerCards = document.querySelectorAll(".player-card");
        
                playerCards.forEach((card) => {
                    card.addEventListener("dragstart", (e) => {
                        e.dataTransfer.setData("text/plain", e.target.outerHTML);
                        setTimeout(() => {
                            e.target.style.display = "none";
                        }, 0);
                    });
        
                    card.addEventListener("dragend", (e) => {
                        e.target.style.display = "block";
                    });
                });
        
                terrainSlots.forEach((slot) => {
                    slot.addEventListener("dragover", (e) => {
                        e.preventDefault();
                        slot.classList.add("bg-gray-200");
                    });
        
                    slot.addEventListener("dragleave", () => {
                        slot.classList.remove("bg-gray-200");
                    });
        
                    slot.addEventListener("drop", (e) => {
                        e.preventDefault();
                        slot.classList.remove("bg-gray-200");
        
                        if (slot.innerHTML.trim() !== "") {
                            alert("This slot is already occupied!");
                            return;
                        }
        
                        const cardHTML = e.dataTransfer.getData("text/plain");
                        slot.innerHTML = cardHTML;
        
                        const droppedCard = slot.querySelector(".player-card");
                        droppedCard.style.display = "block";
        
                        // Re-enable dragging for the dropped card
                        droppedCard.addEventListener("dragstart", (e) => {
                            e.dataTransfer.setData("text/plain", e.target.outerHTML);
                            setTimeout(() => {
                                e.target.style.display = "none";
                            }, 0);
                        });
        
                        droppedCard.addEventListener("dragend", (e) => {
                            e.target.style.display = "block";
                        });
                    });
                });
            }
        });
        </script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
    const playerCards = document.querySelectorAll(".player-card");
    const terrainSlots = document.querySelectorAll(".terrain-slot");

    // اجعل جميع البطاقات قابلة للسحب
    playerCards.forEach((card) => {
        card.addEventListener("dragstart", (e) => {
            e.dataTransfer.setData("text/plain", e.target.outerHTML); // احفظ HTML البطاقة المسحوبة
            setTimeout(() => {
                e.target.style.display = "none"; // أخفِ البطاقة أثناء السحب
            }, 0);
        });

        card.addEventListener("dragend", (e) => {
            e.target.style.display = "block"; // أعد البطاقة عند انتهاء السحب
        });
    });

    // اجعل جميع المواقع قابلة للإسقاط
    terrainSlots.forEach((slot) => {
        slot.addEventListener("dragover", (e) => {
            e.preventDefault(); // السماح بالإسقاط
            slot.classList.add("bg-gray-200"); // أضف تأثيرًا بصريًا
        });

        slot.addEventListener("dragleave", () => {
            slot.classList.remove("bg-gray-200"); // أزل التأثير عند المغادرة
        });

        slot.addEventListener("drop", (e) => {
            e.preventDefault();
            slot.classList.remove("bg-gray-200");

            // تحقق من أن الموقع فارغ
            if (slot.innerHTML.trim() !== "") {
                alert("This slot is already occupied!");
                return;
            }

            const cardHTML = e.dataTransfer.getData("text/plain");
            slot.innerHTML = cardHTML; // أضف البطاقة المسقطة إلى الموقع

            // أعد تفعيل البطاقة المسقطة داخل الموقع
            const droppedCard = slot.querySelector(".player-card");
            droppedCard.style.display = "block";

            // أعد تمكين السحب للبطاقة
            droppedCard.addEventListener("dragstart", (e) => {
                e.dataTransfer.setData("text/plain", e.target.outerHTML);
                setTimeout(() => {
                    e.target.style.display = "none";
                }, 0);
            });

            droppedCard.addEventListener("dragend", (e) => {
                e.target.style.display = "block";
            });
        });
    });
});

</script>
        <div class="ter">
            <div class="1_7"></div>
            <div class="2_7"></div>
            <div class="3_7"></div>
            <div class="4_7"></div>
            <div class="5_7"></div>
            <div class="6_7"></div>
            <div class="7_7"></div>
            <div class="1_6"></div>
            <div class="w-20 bg-red-500" id="4_6">
                <div class="terrain-slot w-40 h-40 rounded-lg  bg-green-500" draggable="true" id="slot-1" data-slot="1" style="background-image: url(../photos/images-removebg-preview.png); background-size:contain; background-repeat: no-repeat;">
                </div>
            </div>

            <div class="3_6"></div>
            <div class="w-20" id="4_6">
                <div class="terrain-slot w-32 h-40 rounded-lg"  draggable="true" id="slot-1" data-slot="1" style="background-image: url(../photos/images-removebg-preview.png); background-size:contain; background-repeat: no-repeat;">
                    
                </div>
            </div>

            
            <div class="5_6"></div>
            <div class="w-20" id="4_6">
                <div class="terrain-slot w-32 h-40 rounded-lg"  draggable="true" id="slot-1" data-slot="1" style="background-image: url(../photos/images-removebg-preview.png); background-size:contain; background-repeat: no-repeat;">
                    
                </div>
            </div>

            <div class="7_6"></div>
            <div class="1_6"></div>
            <div class="2_6"></div>
            <div class="3_6"></div>
            <div class="w-20" id="4_6">
                <div class="terrain-slot w-32 h-40 rounded-lg"  draggable="true" id="slot-1" data-slot="1" style="background-image: url(../photos/images-removebg-preview.png); background-size:contain; background-repeat: no-repeat;">
                    
                </div>
            </div>

            <div class="5_5"></div>
            <div class="6_5"></div>
            <div class="7_5"></div>
            <div class="1_5"></div>
            <div class="w-20" id="4_6">
                <div class="terrain-slot w-32 h-40 rounded-lg"  draggable="true" id="slot-1" data-slot="1" style="background-image: url(../photos/images-removebg-preview.png); background-size:contain; background-repeat: no-repeat;">
                    
                </div>
            </div>

            <div class="3_5"></div>
            <div class="4_5"></div>
            <div class="5_5"></div>
            <div class="w-20" id="4_6">
                <div class="terrain-slot w-32 h-40 rounded-lg"  draggable="true" id="slot-1" data-slot="1" style="background-image: url(../photos/images-removebg-preview.png); background-size:contain; background-repeat: no-repeat;">
                    
                </div>
            </div>

            <div class="7_5"></div>
            <div class="1_4"></div>
            <div class="w-20" id="4_6">
                <div class="terrain-slot w-32 h-40 rounded-lg"  draggable="true" id="slot-1" data-slot="1" style="background-image: url(../photos/images-removebg-preview.png); background-size:contain; background-repeat: no-repeat;">
                    
                </div>
            </div>

            <div class="w-20" id="4_6">
                <div class="terrain-slot w-32 h-40 rounded-lg"  draggable="true" id="slot-1" data-slot="1" style="background-image: url(../photos/images-removebg-preview.png); background-size:contain; background-repeat: no-repeat; margin-left: 30%;">
                    
                </div>
            </div>
            <div class="4_4"></div>
            <div class="w-20" id="4_6">
                <div class="terrain-slot w-32 h-40 rounded-lg"  draggable="true" id="slot-1" data-slot="1" style="background-image: url(../photos/images-removebg-preview.png); background-size:contain; background-repeat: no-repeat;">
                    
                </div>
            </div>

            <div class="w-20" id="4_6">
                <div class="terrain-slot w-32 h-40 rounded-lg"  draggable="true" id="slot-1" data-slot="1" style="background-image: url(../photos/images-removebg-preview.png); background-size:contain; background-repeat: no-repeat; margin-left: 30%;">
                    
                </div>
            </div>

            <div class="7_4"></div>
            <div class="1_3"></div>
            <div class="2_3"></div>
            <div class="3_3"></div>
            <div class="4_3"></div>
            <div class="5_3"></div>
            <div class="6_3"></div>
            <div class="7_3"></div>
            <div class="1_2"></div>
            <div class="2_2"></div>
            <div class="3_2"></div>
            <div class="w-20" id="4_6">
                <div class="terrain-slot w-32 h-40 rounded-lg"  draggable="true" id="slot-1" data-slot="1" style="background-image: url(../photos/images-removebg-preview.png); background-size:contain; background-repeat: no-repeat;">
                </div>
            </div>

            <div class="5_2"></div>
            <div class="6_2"></div>
            <div class="7_2"></div>
            <div class="1_1"></div>
            <div class="2_1"></div>
            <div class="3_1"></div>
            <div class="4_1"></div>
            <div class="5_1"></div>
            <div class="6_1"></div>
            <div class="7_1"></div>
        </div>


        
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>